(function(a){var b=(typeof exports==='object'),c=(typeof JS==='undefined')?require('./core'):JS,d=c.Enumerable||require('./enumerable').Enumerable;if(b)exports.JS=exports;a(c,d,b?exports:c)})(function(g,h,j){'use strict';var e=new g.Class('LinkedList',{include:h||{},initialize:function(a,b){this.length=0;this.first=this.last=null;if(!a)return;for(var c=0,d=a.length;c<d;c++)this.push(b?new this.klass.Node(a[c]):a[c])},forEach:function(a,b){if(!a)return this.enumFor('forEach');a=h.toFn(a);var c=this.first,d,f,i;for(f=0,i=this.length;f<i;f++){d=c.next;a.call(b||null,c,f);if(c===this.last)break;c=d}return this},at:function(a){if(a<0||a>=this.length)return undefined;var b=this.first;while(a--)b=b.next;return b},pop:function(){return this.length?this.remove(this.last):undefined},shift:function(){return this.length?this.remove(this.first):undefined},insertAfter:function(){},push:function(){},remove:function(){},extend:{Node:new g.Class({initialize:function(a){this.data=a;this.prev=this.next=this.list=null}})}});e.Doubly=new g.Class('LinkedList.Doubly',e,{insertAt:function(a,b){if(a<0||a>=this.length)return;this.insertBefore(this.at(a),b)},unshift:function(a){this.length>0?this.insertBefore(this.first,a):this.push(a)},insertBefore:function(){}});e.insertTemplate=function(c,d,f){return function(a,b){if(a.list!==this)return;b[c]=a;b[d]=a[d];a[d]=(a[d][c]=b);if(b[c]===this[f])this[f]=b;b.list=this;this.length++}};e.Doubly.Circular=new g.Class('LinkedList.Doubly.Circular',e.Doubly,{insertAfter:e.insertTemplate('prev','next','last'),insertBefore:e.insertTemplate('next','prev','first'),push:function(a){if(this.length)return this.insertAfter(this.last,a);this.first=this.last=a.prev=a.next=a;a.list=this;this.length=1},remove:function(a){if(a.list!==this||this.length===0)return null;if(this.length>1){a.prev.next=a.next;a.next.prev=a.prev;if(a===this.first)this.first=a.next;if(a===this.last)this.last=a.prev}else{this.first=this.last=null}a.prev=a.next=a.list=null;this.length--;return a}});j.LinkedList=e});
//@ sourceMappingURL=linked_list.js.map