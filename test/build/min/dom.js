(function(a){var b=(typeof exports==='object'),c=(typeof JS==='undefined')?require('./core'):JS;if(b)exports.JS=exports;a(c,b?exports:c)})(function(h,i){'use strict';var e={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,ENV:this,toggleClass:function(a,b){if(this.hasClass(a,b))this.removeClass(a,b);else this.addClass(a,b)},hasClass:function(a,b){var c=a.className.split(/\s+/);return h.indexOf(c,b)>=0},addClass:function(a,b){if(this.hasClass(a,b))return;a.className=a.className+' '+b},removeClass:function(a,b){var c=new RegExp('\\b'+b+'\\b\\s*','g');a.className=a.className.replace(c,'')}};e.Builder=new h.Class('DOM.Builder',{extend:{addElement:function(a){this.define(a,function(){return this.makeElement(a,arguments)});e[a]=function(){return new e.Builder().makeElement(a,arguments)}},addElements:function(a){var b=a.length;while(b--)this.addElement(a[b])}},initialize:function(a){this._1=a},makeElement:function(a,b){var c,f,g;if(document.createElementNS){c=document.createElementNS('http://www.w3.org/1999/xhtml',a)}else{c=document.createElement(a)}for(var d=0,j=b.length;d<j;d++){f=b[d];if(typeof f==='function'){f(new this.klass(c))}else if(h.isType(f,'string')){c.appendChild(document.createTextNode(f))}else{for(g in f)c[g]=f[g]}}if(this._1)this._1.appendChild(c);return c},concat:function(a){if(!this._1)return;this._1.appendChild(document.createTextNode(a))}});e.Builder.addElements(['a','abbr','address','applet','area','article','aside','audio','b','base','bdo','blockquote','body','br','button','canvas','caption','cite','code','col','colgroup','command','datalist','dd','del','details','device','dfn','div','dl','dt','em','embed','fieldset','figcaption','figure','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','iframe','img','input','ins','kbd','keygen','label','legend','li','link','map','mark','marquee','menu','meta','meter','nav','noscript','object','ol','optgroup','option','output','p','param','pre','progress','q','rp','rt','ruby','samp','script','section','select','small','source','span','strong','style','sub','sup','summary','table','tbody','td','textarea','tfoot','th','thead','time','title','tr','track','ul','var','video','wbr']);e.Event={_2:[],on:function(a,b,c,f){if(a===undefined)return;if(a!==e.ENV&&a.nodeType!==e.ELEMENT_NODE&&a.nodeType!==e.DOCUMENT_NODE)return;var g=function(){c.call(f,a)};if(a.addEventListener)a.addEventListener(b,g,false);else if(a.attachEvent)a.attachEvent('on'+b,g);this._2.push({_0:a,_3:b,_5:c,_6:f,_4:g})},detach:function(a,b,c,f){var g=this._2.length,d;while(g--){d=this._2[g];if((a&&a!==d._0)||(b&&b!==d._3)||(c&&c!==d._5)||(f&&f!==d._6))continue;if(d._0.removeEventListener)d._0.removeEventListener(d._3,d._4,false);else if(d._0.detachEvent)d._0.detachEvent('on'+d._3,d._4);this._2.splice(g,1);d=null}}};e.Event.on(e.ENV,'unload',e.Event.detach,e.Event);i.DOM=e});
//@ sourceMappingURL=dom.js.map